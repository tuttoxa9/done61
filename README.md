# Done30 - Сервис для курьеров

## Оптимизированная версия

Проект оптимизирован для максимальной производительности на всех устройствах:

- Реализовано code splitting (разделение бандла)
- Оптимизированы изображения (конвертация в WebP)
- Ленивая загрузка компонентов и страниц
- Улучшенное кэширование ресурсов
- Условный рендеринг в зависимости от устройства
- Оптимизированы анимации для мобильных устройств

## Деплой на разные платформы

Проект поддерживает несколько платформ для деплоя:

### Развертывание на Netlify

Для корректной работы приложения и отправки уведомлений в Telegram, необходимо настроить следующие переменные окружения в настройках Netlify:

1. `TELEGRAM_BOT_TOKEN` - токен Telegram бота (получить у @BotFather)
2. `TELEGRAM_CHAT_ID` - ID чата или группы, куда будут приходить уведомления

#### Настройка переменных окружения в Netlify

1. В панели управления Netlify перейдите в Site settings > Build & deploy > Environment
2. Добавьте переменные `TELEGRAM_BOT_TOKEN` и `TELEGRAM_CHAT_ID`
3. Сохраните изменения и переразвертите сайт

### Развертывание на Savella

Для деплоя на Savella выполните следующие шаги:

1. Убедитесь, что вы имеете аккаунт на Savella и создали проект
2. Создайте переменные окружения аналогично Netlify
   - `SAVELLA=true`
   - `SAVELLA_DEPLOY_DIR="путь_к_директории_деплоя"`
   - `TELEGRAM_BOT_TOKEN` и `TELEGRAM_CHAT_ID` (если нужны уведомления)
3. Запустите скрипт деплоя:
   ```bash
   ./deploy.sh
   ```

Файл `savella.config.js` уже включен в проект и содержит все необходимые настройки для Savella.

### Универсальный деплой

Для деплоя на другие платформы:

1. Соберите проект:
   ```bash
   bun run build
   ```
2. Содержимое директории `dist` загрузите на ваш хостинг
3. Настройте правила для перенаправления всех запросов на `index.html` (для SPA)

## Инструкция по настройке Telegram бота

1. Создайте нового бота через @BotFather в Telegram
   - Отправьте сообщение `/newbot`
   - Выберите имя для бота
   - Выберите username для бота (должно оканчиваться на "bot")
   - Скопируйте полученный токен

2. Определите ID вашего чата
   - Используйте официальную документацию Telegram API
   - Или воспользуйтесь любым из доступных инструментов для получения идентификатора
   - Полученное значение используйте в переменной окружения [правильное_название_переменной]

3. Добавьте вашего бота в группу, если нужно отправлять уведомления в группу
   - Не забудьте настроить соответствующие права доступа

## Локальная разработка

```bash
# Установка зависимостей
bun install

# Запуск сервера разработки
bun run dev

# Конвертация изображений в WebP
bun run convert-webp

# Сборка проекта
bun run build

# Предпросмотр сборки
bun run preview
```

## Оптимизация проекта

Для дальнейшей оптимизации проекта:

1. Используйте компонент `ImageWithWebP` для всех изображений
2. Проверяйте размер бандла при добавлении новых зависимостей
3. Тестируйте производительность на мобильных устройствах
